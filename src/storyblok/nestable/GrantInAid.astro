---
import { storyblokEditable } from '@storyblok/astro';

export interface Props {
  blok: {
    title: string;
    date: Date;
    awardee: string;
    affiliation: string;
    image: {
      filename: string;
    };
    projectURL: {
      url: string;
    };
  };
}

const { blok } = Astro.props
---
<div {...storyblokEditable(blok)} class="col-lg-5 col-md-5 col-sm-6 mb-5 mb-lg-0 my-3">
  <div class="card rounded-0 hover-shadow alt-gallery-card">
    <div class="card-img position-relative">
      <img class="card-img-top rounded-0" src={blok.image.filename} height="100px" />
    </div>
    <div class="card-body">
      <h5 class="card-title">
        {blok.title}
      </h5>
      <span>{ blok.awardee }, <i>{ blok.affiliation }</i></span><br><br>
      <span class="badge bg-success font-secondary text-white fw-normal mt-1">Project completed { new Date(blok.date).toLocaleDateString() }</span><br><br>
      <a href={ blok.projectURL.url } target="_blank" class="btn btn-primary btn-primary-outline btn-xs mb-2">
        <i class="fas fa-external-link-square-alt me-2"></i> See the map
      </a>
    </div>
  </div>
</div>
