---
import { storyblokEditable } from '@storyblok/astro';
import RichText from '../../storyblok/RichText.astro';

export interface Props {
  blok: {
    class: string;
    imageSrc: {
      url: string;
    };
    imageAlt: string;
    caption: string;
  };
}

const { blok } = Astro.props
---

<figure {...storyblokEditable(blok)} class={blok.class}>
  <img src={blok.imageSrc.url ? blok.imageSrc.url : ''} alt={blok.imageAlt ? blok.imageAlt : ''} />
  
  {blok.caption &&
    <figcaption>
        <RichText blok={{ body: blok.caption }} />
    </figcaption>
  }
</figure>
